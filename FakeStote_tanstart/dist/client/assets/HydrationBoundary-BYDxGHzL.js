import{u as g,r as n,l as c}from"./main-BzESYTLN.js";var q=({children:f,options:o={},state:s,queryClient:h})=>{const t=g(h),u=n.useRef(o);n.useEffect(()=>{u.current=o});const a=n.useMemo(()=>{if(s){if(typeof s!="object")return;const y=t.getQueryCache(),p=s.queries||[],i=[],d=[];for(const e of p){const r=y.get(e.queryHash);r?(e.state.dataUpdatedAt>r.state.dataUpdatedAt||e.promise&&r.state.status!=="pending"&&r.state.fetchStatus!=="fetching"&&e.dehydratedAt!==void 0&&e.dehydratedAt>r.state.dataUpdatedAt)&&d.push(e):i.push(e)}if(i.length>0&&c(t,{queries:i},u.current),d.length>0)return d}},[t,s]);return n.useEffect(()=>{a&&c(t,{queries:a},u.current)},[t,a]),f};export{q as H};
